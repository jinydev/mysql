I"ì<p>ë°ì´í„°ì˜ ì¶œë ¥ ê°œìˆ˜ë¥¼ ì œì–´í•˜ëŠ” OFFSET í‚¤ì›Œë“œê°€ ìˆìŠµë‹ˆë‹¤. OFFSETì€ LIMITë¥¼ ì´ìš© í•˜ì—¬ ë¶€ë¶„ ì¶œë ¥í•˜ëŠ” ë™ì‘ì€ ë¹„ìŠ·í•©ë‹ˆë‹¤.</p>

<p>| ì¿¼ë¦¬ ë¬¸ë²• |</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="err">ì»¬ëŸ¼ëª…</span><span class="p">,</span> <span class="err">ì»¬ëŸ¼ëª…</span><span class="p">,</span> <span class="err">â€¦</span> <span class="k">FROM</span> <span class="err">í…Œì´ë¸”ëª…</span> <span class="k">LIMIT</span> <span class="err">ë ˆì½”ë“œ</span> <span class="err">ìˆ˜</span> <span class="k">OFFSET</span> <span class="err">ì´ë™</span> <span class="err">ë ˆì½”ë“œ</span> <span class="err">ìˆ˜</span><span class="p">;</span> 
</code></pre></div></div>

<p>ë°ì´í„°ë¥¼ ì¶œë ¥í•  ë•Œ OFFSET ìˆ˜ë§Œí¼ ì´ë™í•œ ë‹¤ìŒì— ì§€ì •í•œ ë ˆì½”ë“œ ìˆ˜ë§Œí¼ì„ ì¶œë ¥í•©ë‹ˆë‹¤.</p>

<h2 id="1331-ì½˜ì†”-ì‹¤ìŠµ">13.3.1 ì½˜ì†” ì‹¤ìŠµ</h2>
<p>LIMIT ì—ì„œ ì²˜ìŒì— ì´ë™í•˜ëŠ” ì‹œì‘ì ì„ OFFSET ë¶€ë¶„ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•œ ê²ƒê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.</p>

<p>| ì˜ˆì œ ì¿¼ë¦¬ |</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">code</span> <span class="k">from</span> <span class="n">orders</span> <span class="k">limit</span> <span class="mi">3</span> <span class="k">offset</span> <span class="mi">3</span><span class="p">;</span> 
</code></pre></div></div>

<p>ì£¼ë¬¸ ëª©ë¡ì—ì„œ ì˜¤í”„ì…‹ ìœ„ì¹˜ë¥¼ 3ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. ì´ë™ ì‹œì ì—ì„œ ì—°ì†ëœ ë°ì´í„° 3ê°œë¥¼ ì½ ì–´ì„œ ì¶œë ¥í•©ë‹ˆë‹¤.</p>

<p>| ì½˜ì†” ì‹¤ìŠµ í™”ë©´ |</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">code</span> <span class="k">from</span> <span class="n">orders</span> <span class="k">limit</span> <span class="mi">3</span> <span class="k">offset</span> <span class="mi">3</span><span class="p">;</span> <span class="o">+</span><span class="c1">-------+ | code | +-------+ | O_004 | | O_005 | | O_006 | +-------+ 3 rows in set (0.00 sec) </span>
</code></pre></div></div>

<p>ë°ì´í„°ë¥¼ 3ë§Œí¼ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì´ë™í•œ ìƒíƒœì—ì„œ 3ê°œì˜ ë°ì´í„°ë§Œ ì¶œë ¥í•©ë‹ˆë‹¤. ì¦‰ LIMIT 3, 3ê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.</p>

<h2 id="1332-php-ì‹¤ìŠµ">13.3.2 PHP ì‹¤ìŠµ</h2>
<p>PHP ì½”ë“œë¥¼ í†µí•˜ì—¬ OFFSET ì²˜ë¦¬ì— ëŒ€í•œ ì‹¤ìŠµì„ í•©ë‹ˆë‹¤.</p>

<p>| PHP ì˜ˆì œ | 
mysql.class.php íŒŒì¼ì— ë©”ì„œë“œ ì˜ˆì œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì§€ì •í•œ ìœ„ì¹˜ë§í¼ ì´ë™í›„, ê°¯ìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">offset</span><span class="p">(</span><span class="nv">$query</span><span class="p">,</span> <span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">){</span>
            <span class="nv">$queryString</span> <span class="o">=</span> <span class="nv">$query</span> <span class="o">.</span> <span class="s2">" limit </span><span class="nv">$b</span><span class="s2"> offset </span><span class="nv">$a</span><span class="s2">"</span><span class="p">;</span>
            <span class="k">return</span> <span class="nv">$queryString</span><span class="p">;</span> 
<span class="p">}</span>
 
</code></pre></div></div>

<p>ì˜ˆì œ íŒŒì¼ | offset-01.php</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

	<span class="k">include</span> <span class="s2">"dbinfo.php"</span><span class="p">;</span>
	<span class="k">include</span> <span class="s2">"mysql.class.php"</span><span class="p">;</span>
 
	<span class="c1">// ++ Mysqli DB ì—°ê²°.</span>
	<span class="nv">$db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JinyMysql</span><span class="p">();</span>

	<span class="c1">// ê¸°ë³¸ select ì¿¼ë¦¬</span>
	<span class="nv">$query</span> <span class="o">=</span> <span class="s2">"SELECT Id, FirstName, LastName FROM members"</span><span class="p">;</span>
	<span class="c1">// ê¸°ë³¸ì¿¼ë¦¬ì— 2ë§Œí¼ ì´ë™í›„ 3ê°œë¥¼ ì¶œë ¥í•¨.</span>
	<span class="nv">$queryString</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">offset</span><span class="p">(</span><span class="nv">$query</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
    
	<span class="k">if</span><span class="p">(</span><span class="nv">$rowss</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">selectRowss</span><span class="p">(</span><span class="nv">$queryString</span><span class="p">)){</span>
		<span class="k">echo</span> <span class="s2">"tables fields = "</span><span class="o">.</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$rowss</span><span class="p">)</span> <span class="o">.</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
 
		<span class="k">for</span><span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;</span><span class="nb">count</span><span class="p">(</span><span class="nv">$rowss</span><span class="p">);</span><span class="nv">$i</span><span class="o">++</span><span class="p">){</span>
			<span class="k">echo</span> <span class="nv">$i</span><span class="o">.</span><span class="s2">"="</span><span class="p">;</span>            
			<span class="nb">print_r</span><span class="p">(</span><span class="nv">$rowss</span><span class="p">[</span><span class="nv">$i</span><span class="p">]);</span>
			<span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

<span class="cp">?&gt;</span>

</code></pre></div></div>

<p>í™”ë©´ ì¶œë ¥</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql connected!
ì¿¼ë¦¬ì„±ê³µ] SELECT Id, FirstName, LastName FROM members limit 3 offset 2
tables fields = 3
0=stdClass Object ( [Id] =&gt; 3 [FirstName] =&gt; kim [LastName] =&gt; james )
1=stdClass Object ( [Id] =&gt; 5 [FirstName] =&gt; jiny [LastName] =&gt; 1234 )
2=stdClass Object ( [Id] =&gt; 6 [FirstName] =&gt; jiny [LastName] =&gt; 1234 ) 

</code></pre></div></div>
:ET